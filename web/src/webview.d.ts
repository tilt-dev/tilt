// Code generated by tygo. DO NOT EDIT.
import { UISession, UIResource, UIButton, Cluster } from "./core"

//////////
// source: log.go

/**
 * LogLevel represents the severity level of a log entry.
 */
export type LogLevel = string
export const LogLevel_NONE: LogLevel = "NONE"
export const LogLevel_INFO: LogLevel = "INFO"
export const LogLevel_VERBOSE: LogLevel = "VERBOSE"
export const LogLevel_DEBUG: LogLevel = "DEBUG"
export const LogLevel_WARN: LogLevel = "WARN"
export const LogLevel_ERROR: LogLevel = "ERROR"
export interface LogSegment {
  spanId?: string
  time?: string
  text?: string
  level?: LogLevel
  /**
   * When we store warnings in the LogStore, we break them up into lines and
   * store them as a series of line segments. 'anchor' marks the beginning of a
   * series of logs that should be kept together.
   * Anchor warning1, line1
   *        warning1, line2
   * Anchor warning2, line1
   */
  anchor?: boolean
  /**
   * Context-specific optional fields for a log segment.
   * Used for experimenting with new types of log metadata.
   */
  fields?: { [key: string]: string }
}
export interface LogSpan {
  manifestName?: string
}
export interface LogList {
  spans?: { [key: string]: LogSpan | undefined }
  segments?: (LogSegment | undefined)[]
  /**
   * FromCheckpoint and ToCheckpoint express an interval on the
   * central log-store, with an inclusive start and an exclusive end
   * [FromCheckpoint, ToCheckpoint)
   * An interval of [0, 0) means that the server isn't using
   * the incremental load protocol.
   * An interval of [-1, -1) means that the server doesn't have new logs
   * to send down.
   */
  fromCheckpoint?: number /* int32 */
  toCheckpoint?: number /* int32 */
}

//////////
// source: view.go

export interface TiltBuild {
  version?: string
  commitSHA?: string
  date?: string
  dev?: boolean
}
export interface VersionSettings {
  checkUpdates?: boolean
}
/**
 * Our websocket service has two kinds of View messages:
 *  1. On initialization, we send down the complete view state
 *     (TiltStartTime, UISession, UIResources, and LogList)
 *  2. On every change, we send down the resources that have
 *     changed since the last send().
 *     (new logs and any updated UISession/UIResource objects).
 * All other fields are obsolete, but are needed for deserializing
 * old snapshots.
 */
export interface View {
  log?: string
  featureFlags?: { [key: string]: boolean }
  needsAnalyticsNudge?: boolean
  runningTiltBuild?: TiltBuild
  suggestedTiltVersion?: string
  versionSettings?: VersionSettings
  tiltCloudUsername?: string
  tiltCloudTeamName?: string
  tiltCloudSchemeHost?: string
  tiltCloudTeamID?: string
  fatalError?: string
  logList?: LogList
  /**
   * Allows us to synchronize on a running Tilt instance,
   * so we can tell when Tilt restarted.
   */
  tiltStartTime?: string
  /**
   * An identifier for the tiltfile that is running, so that the web ui
   * can store data per tiltfile.
   */
  tiltfileKey?: string
  /**
   * New API-server based data models.
   */
  uiSession?: UISession
  uiResources?: UIResource[]
  uiButtons?: UIButton[]
  clusters?: Cluster[]
  /**
   * Indicates that this view is a complete representation of the app.
   * If false, this view just contains deltas from a previous view.
   */
  isComplete?: boolean
}
export interface SnapshotHighlight {
  beginningLogID?: string
  endingLogID?: string
  text?: string
}
export interface Snapshot {
  view?: View
  isSidebarClosed?: boolean
  path?: string
  snapshotHighlight?: SnapshotHighlight
  snapshotLink?: string
  createdAt?: string
}
export interface UploadSnapshotResponse {
  url?: string
}
/**
 * NOTE(nick): This is obsolete.
 * Our websocket service has two kinds of messages:
 *  1. On initialization, we send down the complete view state
 *  2. On every change, we send down the resources that have
 *     changed since the last send().
 */
export interface AckWebsocketRequest {
  /**
   * The ToCheckpoint on the received LogList.
   */
  toCheckpoint?: number /* int32 */
  /**
   * Allows us to synchronize on a running Tilt instance,
   * so we can tell when we're talking to the same Tilt.
   */
  tiltStartTime?: string
}
export interface AckWebsocketResponse {}
